{"ast":null,"code":"var _jsxFileName = \"/Users/Admin/ga_seir/projects/Of-Birds-And-Beasts/client/src/pages/Schedule.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { GetSchedules, CreateSchedules, GetScheduleById } from '../services/ScheduleServices';\nimport { useNavigate } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Schedule = _ref => {\n  _s();\n  let {\n    user,\n    authenticated,\n    setSchedule,\n    schedule,\n    scheduleExists,\n    setScheduleExists\n  } = _ref;\n  const initialState = {\n    date: ''\n  };\n  let {\n    id\n  } = useParams();\n  let navigate = useNavigate();\n  const [formState, setFormState] = useState(initialState);\n  // const [scheduleExists, setScheduleExists] = useState(false)\n  // const [schedule, setSchedule] = useState({})\n\n  const handleChange = e => {\n    setFormState({\n      ...formState,\n      [e.target.id]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const response = await CreateSchedules({\n      ...formState,\n      patron_Id: user.id\n    });\n    console.log('handle submit', response);\n    setSchedule(response);\n    setFormState(initialState);\n    setScheduleExists(true);\n  };\n  useEffect(() => {\n    const handleSchedule = async () => {\n      console.log(user.id);\n      const data = await GetScheduleById(props.user.id);\n      setSchedule(data);\n    };\n    handleSchedule();\n  }, [scheduleExists]);\n  if (scheduleExists) {\n    var _schedule$exhibits;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-text\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-title\",\n        children: \"SCHEDULE \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Date: \", schedule.date, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"exhibit-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exhbit-title\",\n          children: \"Scheduled Exhibits \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), schedule === null || schedule === void 0 ? void 0 : (_schedule$exhibits = schedule.exhibits) === null || _schedule$exhibits === void 0 ? void 0 : _schedule$exhibits.map(exhibit => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: exhibit.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Delete Schedule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/exhibit'),\n        children: \"View Exhibits\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  } else {\n    return user && authenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-text section-title\",\n      children: [' ', \"CREATE A SCHEDULE\", /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label dateField\",\n          htmlFor: \"date\",\n          children: [\"Date:\", ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          id: \"date\",\n          placeholder: \"MM/DD/YY (Required)\",\n          cols: \"30\",\n          onChange: handleChange,\n          value: formState.date,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit-button\",\n          type: \"submit\",\n          children: \"Create Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"protected\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Oops! You must be signed in to do that!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/signin'),\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n};\n_s(Schedule, \"tnXUtD+81a6OOwfgqsZ8ngA6LQw=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Schedule;\nexport default Schedule;\n\n// return user && authenticated ? (\n//   <div className=\"grid col-4\">\n//     {schedule.map((schedule) => (\n//       <div className=\"card\" key={schedule.id}>\n//         <h3>{schedule.title}</h3>\n//         <div>\n//           <img src={schedule.image} alt=\"post\" />\n//         </div>\n//         <p>{schedule.body.substring(0, 80)}...</p>\n//       </div>\n//     ))}\n//   </div>\n// ) : (\n//   <div className=\"protected\">\n//     <h3>Oops! You must be signed in to do that!</h3>\n//     <button onClick={() => navigate('/signin')}>Sign In</button>\n//   </div>\n// )\n// }\n\n// if (scheduleExists) {\n//   return (\n//     <div className=\"schedule-text\">\n//       <div className=\"section-title\">SCHEDULE </div>\n//       <div>Date: {schedule.date} </div>\n//       <br />\n//       <div className=\"exhibit-list\">\n//         <div className=\"exhbit-title\">Scheduled Exhibits </div>\n//         {schedule?.exhibits?.map((exhibit) => (\n//           <p>{exhibit.name}</p>\n//         ))}\n//       </div>\n//       <button>Delete Schedule</button>\n//       <button>View Exhibits</button>\n//     </div>\n//   )\n// } else {\n//   return ( user && authenticated) ? (\n//     <div className=\"schedule-text section-title\">\n//       {' '}\n//       CREATE A SCHEDULE\n//       <form className=\"form\" onSubmit={handleSubmit}>\n//         <label className=\"label dateField\" htmlFor=\"date\">\n//           Date:{' '}\n//         </label>\n//         <input\n//           className=\"input\"\n//           type=\"text\"\n//           id=\"date\"\n//           placeholder=\"MM/DD/YY (Required)\"\n//           cols=\"30\"\n//           onChange={handleChange}\n//           value={formState.date}\n//           required\n//         />\n//         <button className=\"submit-button\" type=\"submit\">\n//           Create Schedule\n//         </button>\n//       </form>\n//     </div>\n//   )\n// }\n// }\nvar _c;\n$RefreshReg$(_c, \"Schedule\");","map":{"version":3,"names":["useEffect","useState","GetSchedules","CreateSchedules","GetScheduleById","useNavigate","useParams","Schedule","user","authenticated","setSchedule","schedule","scheduleExists","setScheduleExists","initialState","date","id","navigate","formState","setFormState","handleChange","e","target","value","handleSubmit","preventDefault","response","patron_Id","console","log","handleSchedule","data","props","exhibits","map","exhibit","name"],"sources":["/Users/Admin/ga_seir/projects/Of-Birds-And-Beasts/client/src/pages/Schedule.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport {\n  GetSchedules,\n  CreateSchedules,\n  GetScheduleById\n} from '../services/ScheduleServices'\nimport { useNavigate } from 'react-router-dom'\nimport { useParams } from 'react-router-dom'\n\nconst Schedule = ({\n  user,\n  authenticated,\n  setSchedule,\n  schedule,\n  scheduleExists,\n  setScheduleExists\n}) => {\n  const initialState = {\n    date: ''\n  }\n  let { id } = useParams()\n  let navigate = useNavigate()\n  const [formState, setFormState] = useState(initialState)\n  // const [scheduleExists, setScheduleExists] = useState(false)\n  // const [schedule, setSchedule] = useState({})\n\n  const handleChange = (e) => {\n    setFormState({ ...formState, [e.target.id]: e.target.value })\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    const response = await CreateSchedules({ ...formState, patron_Id: user.id })\n    console.log('handle submit', response)\n    setSchedule(response)\n    setFormState(initialState)\n    setScheduleExists(true)\n  }\n\n  useEffect(() => {\n    const handleSchedule = async () => {\n      console.log(user.id)\n      const data = await GetScheduleById(props.user.id)\n      setSchedule(data)\n    }\n    handleSchedule()\n  }, [scheduleExists])\n\n  if (scheduleExists) {\n    return (\n      <div className=\"schedule-text\">\n        <div className=\"section-title\">SCHEDULE </div>\n        <div>Date: {schedule.date} </div>\n        <br />\n        <div className=\"exhibit-list\">\n          <div className=\"exhbit-title\">Scheduled Exhibits </div>\n          {schedule?.exhibits?.map((exhibit) => (\n            <p>{exhibit.name}</p>\n          ))}\n        </div>\n        <button>Delete Schedule</button>\n        <button onClick={() => navigate('/exhibit')}>View Exhibits</button>\n      </div>\n    )\n  } else {\n    return user && authenticated ? (\n      <div className=\"schedule-text section-title\">\n        {' '}\n        CREATE A SCHEDULE\n        <form className=\"form\" onSubmit={handleSubmit}>\n          <label className=\"label dateField\" htmlFor=\"date\">\n            Date:{' '}\n          </label>\n          <input\n            className=\"input\"\n            type=\"text\"\n            id=\"date\"\n            placeholder=\"MM/DD/YY (Required)\"\n            cols=\"30\"\n            onChange={handleChange}\n            value={formState.date}\n            required\n          />\n          <button className=\"submit-button\" type=\"submit\">\n            Create Schedule\n          </button>\n        </form>\n      </div>\n    ) : (\n      <div className=\"protected\">\n        <h3>Oops! You must be signed in to do that!</h3>\n        <button onClick={() => navigate('/signin')}>Sign In</button>\n      </div>\n    )\n  }\n}\n\nexport default Schedule\n\n// return user && authenticated ? (\n//   <div className=\"grid col-4\">\n//     {schedule.map((schedule) => (\n//       <div className=\"card\" key={schedule.id}>\n//         <h3>{schedule.title}</h3>\n//         <div>\n//           <img src={schedule.image} alt=\"post\" />\n//         </div>\n//         <p>{schedule.body.substring(0, 80)}...</p>\n//       </div>\n//     ))}\n//   </div>\n// ) : (\n//   <div className=\"protected\">\n//     <h3>Oops! You must be signed in to do that!</h3>\n//     <button onClick={() => navigate('/signin')}>Sign In</button>\n//   </div>\n// )\n// }\n\n// if (scheduleExists) {\n//   return (\n//     <div className=\"schedule-text\">\n//       <div className=\"section-title\">SCHEDULE </div>\n//       <div>Date: {schedule.date} </div>\n//       <br />\n//       <div className=\"exhibit-list\">\n//         <div className=\"exhbit-title\">Scheduled Exhibits </div>\n//         {schedule?.exhibits?.map((exhibit) => (\n//           <p>{exhibit.name}</p>\n//         ))}\n//       </div>\n//       <button>Delete Schedule</button>\n//       <button>View Exhibits</button>\n//     </div>\n//   )\n// } else {\n//   return ( user && authenticated) ? (\n//     <div className=\"schedule-text section-title\">\n//       {' '}\n//       CREATE A SCHEDULE\n//       <form className=\"form\" onSubmit={handleSubmit}>\n//         <label className=\"label dateField\" htmlFor=\"date\">\n//           Date:{' '}\n//         </label>\n//         <input\n//           className=\"input\"\n//           type=\"text\"\n//           id=\"date\"\n//           placeholder=\"MM/DD/YY (Required)\"\n//           cols=\"30\"\n//           onChange={handleChange}\n//           value={formState.date}\n//           required\n//         />\n//         <button className=\"submit-button\" type=\"submit\">\n//           Create Schedule\n//         </button>\n//       </form>\n//     </div>\n//   )\n// }\n// }\n"],"mappings":"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A;MAAA;MAAA;MAAA;IAAA,QACH,gBAEN;MAAK,SAAS,EAAC,WAAW;MAAA,wBACxB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAgD,eAChD;QAAQ,OAAO,EAAE,MAAME,QAAQ,CAAC,SAAS,CAAE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAiB;IAAA;MAAA;MAAA;MAAA;IAAA,QAE/D;EACH;AACF,CAAC;AAAA,GAtFKV,QAAQ;EAAA,QAWCD,SAAS,EACPD,WAAW;AAAA;AAAA,KAZtBE,QAAQ;AAwFd,eAAeA,QAAQ;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}